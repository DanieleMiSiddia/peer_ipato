<ion-content [fullscreen]="true">
    <div class="page-wrapper">

        <header class="app-header">
            <div class="header-brand">
                <img src="assets/Logo.jpeg" alt="Logo" class="header-logo-img">
                <div class="brand-name">Peer-<span>ipato</span></div>
            </div>
        </header>

        <main class="main-content">
            <div class="content-wrapper">

                <div class="page-header">
                    <h1>Modifica Password</h1>
                    <p>Inserisci la password attuale e scegli una nuova password sicura.</p>
                </div>

                <div class="form-card">

                    @if (messaggio) {
                        <div class="form-message" [class.error]="tipoMsg === 'error'" [class.success]="tipoMsg === 'success'">
                            {{ messaggio }}
                        </div>
                    }

                    <div class="form-group">
                        <label class="form-label" for="vecchia-password">Password Attuale</label>
                        <input
                            type="password"
                            id="vecchia-password"
                            class="text-input"
                            placeholder="Inserisci la password attuale"
                            [(ngModel)]="vecchiaPassword"
                            [disabled]="loading">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="nuova-password">Nuova Password</label>
                        <input
                            type="password"
                            id="nuova-password"
                            class="text-input"
                            placeholder="Minimo 6 caratteri"
                            [(ngModel)]="nuovaPassword"
                            [disabled]="loading">
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="conferma-password">Conferma Nuova Password</label>
                        <input
                            type="password"
                            id="conferma-password"
                            class="text-input"
                            placeholder="Ripeti la nuova password"
                            [(ngModel)]="confermaPassword"
                            [disabled]="loading">
                    </div>

                    <div class="card-actions">
                        <button type="button" class="btn btn-secondary" (click)="annulla()" [disabled]="loading">
                            Annulla
                        </button>
                        <button type="button" class="btn btn-primary" (click)="submit()" [disabled]="loading">
                            <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"/>
                            </svg>
                            {{ loading ? 'Salvataggio...' : 'Modifica' }}
                        </button>
                    </div>

                </div>
            </div>
        </main>

    </div>
</ion-content>
