<ion-content [fullscreen]="true">
    <div class="page-wrapper">

        <header class="app-header">
            <div class="header-content">
                <img src="assets/Logo.jpeg" alt="Logo Peer-ipato" class="logo-img">
                <div class="brand-name">Peer-<span>ipato</span></div>
            </div>
            <span class="header-user-name">{{ nomeUtente }}</span>
        </header>

        <main class="main-content">
            <div class="container">

                <div class="page-header">
                    <div class="page-header-top">
                        <h1>Lista Articoli Program Committee</h1>
                        <button class="btn-back" (click)="goBack()">
                            <svg viewBox="0 0 24 24"><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>
                            Torna Indietro
                        </button>
                    </div>
                    <p>Lista degli articoli sottomessi a questa conferenza che puoi revisionare o assegnare.</p>
                </div>

                @if (!isEmpty) {
                    <div class="list-container">
                        <div class="list-title-bar">
                            <span>{{ articoli.length }} ARTICOLI</span>
                        </div>

                        <div class="table-head">
                            <div>Titolo dell'Articolo</div>
                            <div>Stato</div>
                            <div class="col-actions">Azioni</div>
                        </div>

                        @for (art of articoli; track art.id_articolo) {
                            <div class="article-row">
                                <div class="article-info">
                                    <h3>{{ art.titolo }}</h3>
                                    <p>ID: {{ art.id_articolo }}</p>
                                </div>
                                <div class="stato-text">{{ art.stato }}</div>
                                <div class="actions">
                                    <button class="btn btn-secondary" (click)="goToAssegna(art.id_articolo)">
                                        Assegna Sottorevisore
                                    </button>
                                    <button class="btn btn-primary" (click)="goToRevisiona(art.id_articolo)">
                                        Revisiona
                                    </button>
                                </div>
                            </div>
                        }
                    </div>
                }

                @if (isEmpty) {
                    <div class="empty-state">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14 2 14 8 20 8"/>
                            <line x1="16" y1="13" x2="8" y2="13"/>
                            <line x1="16" y1="17" x2="8" y2="17"/>
                        </svg>
                        <h2>Nessun articolo sottomesso a questa conferenza.</h2>
                    </div>
                }

            </div>
        </main>

    </div>
</ion-content>
